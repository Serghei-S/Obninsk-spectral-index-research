# โ ะัะฟัะฐะฒะปะตะฝะธะต ะฐะฒัะพัะธะทะฐัะธะธ ะดะปั ัะฐะฑะพัั ัะตัะตะท ngrok

**ะะฐัะฐ**: 18 ะพะบััะฑัั 2025  
**ะัะพะฑะปะตะผะฐ**: "Failed to fetch" ะฟัะธ ะฟะพะฟััะบะต ะฐะฒัะพัะธะทะฐัะธะธ ัะตัะตะท ngrok  
**ะกัะฐััั**: โ ะะกะะะะะะะะ

---

## ๐ ะกััั ะฟัะพะฑะปะตะผั

### ะงัะพ ะฑัะปะพ:
Frontend ะฟััะฐะปัั ะพะฑัะฐัะฐัััั ะบ API ะฟะพ ะฐะดัะตัั `http://localhost:8000`, ะบะพัะพััะน ะฑัะป ะถะตััะบะพ ะฟัะพะฟะธัะฐะฝ ะฒ ะบะพะดะต:

```javascript
// frontend/src/utils/api.js (ะกะขะะะะฏ ะะะะกะะฏ)
const api = axios.create({
  baseURL: 'http://localhost:8000',  // โ ะะต ัะฐะฑะพัะฐะตั ัะตัะตะท ngrok!
  ...
})
```

**ะะพัะตะผั ะฝะต ัะฐะฑะพัะฐะปะพ:**
- ะัะธ ะพัะบัััะธะธ ัะฐะนัะฐ ัะตัะตะท ngrok (`https://de37694ed514.ngrok-free.app`)
- ะัะฐัะทะตั ะฟะพะปัะทะพะฒะฐัะตะปั ะฟััะฐะปัั ะพะฑัะฐัะธัััั ะบ `http://localhost:8000`
- ะะพ `localhost:8000` ะฝะฐ ััััะพะนััะฒะต ะฟะพะปัะทะพะฒะฐัะตะปั - ััะพ ะะ ะฒะฐั ัะตัะฒะตั!
- ะะตะทัะปััะฐั: "Failed to fetch", ะฐะฒัะพัะธะทะฐัะธั ะฝะต ัะฐะฑะพัะฐะปะฐ

---

## โ ะะตัะตะฝะธะต

### ะงัะพ ะธะทะผะตะฝะธะปะธ:
ะะทะผะตะฝะธะปะธ `baseURL` ะฒ ัะฐะนะปะต `frontend/src/utils/api.js`:

```javascript
// frontend/src/utils/api.js (ะะะะะฏ ะะะะกะะฏ)
const api = axios.create({
  baseURL: '', // โ ะัััะพะน baseURL - ะทะฐะฟัะพัั ะธะดัั ะฝะฐ ัะตะบััะธะน ะดะพะผะตะฝ
  ...
})
```

**ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั:**
- ะัััะพะน `baseURL` ะทะฐััะฐะฒะปัะตั axios ะดะตะปะฐัั ะทะฐะฟัะพัั ะบ ัะพะผั ะถะต ะดะพะผะตะฝั, ะพัะบัะดะฐ ะทะฐะณััะถะตะฝ frontend
- ะัะธ ะพัะบัััะธะธ ัะตัะตะท ngrok (`https://de37694ed514.ngrok-free.app`):
  - Frontend ะทะฐะณััะถะฐะตััั ั `https://de37694ed514.ngrok-free.app`
  - Axios ะดะตะปะฐะตั ะทะฐะฟัะพัั ะบ `https://de37694ed514.ngrok-free.app/api/v1/...`
  - Nginx-proxy ะฟัะพะบัะธััะตั `/api/` ะฝะฐ backend
  - โ ะัั ัะฐะฑะพัะฐะตั!

- ะัะธ ะพัะบัััะธะธ ัะตัะตะท localhost (`http://localhost:3000`):
  - Frontend ะทะฐะณััะถะฐะตััั ั `http://localhost:3000`
  - Axios ะดะตะปะฐะตั ะทะฐะฟัะพัั ะบ `http://localhost:3000/api/v1/...`
  - Nginx-proxy (ะฝะฐ ะฟะพััั 8080) ะฟัะพะบัะธััะตั ะฝะฐ backend
  - โ ะขะพะถะต ัะฐะฑะพัะฐะตั!

---

## ๐ง ะงัะพ ะฑัะปะพ ัะดะตะปะฐะฝะพ

1. โ ะกะพะทะดะฐะฝะฐ ัะตะทะตัะฒะฝะฐั ะบะพะฟะธั: `frontend/src/utils/api.js.backup`
2. โ ะะทะผะตะฝะตะฝ `baseURL` ะฝะฐ ะฟััััั ัััะพะบั ะฒ `frontend/src/utils/api.js`
3. โ ะะตัะตัะพะฑัะฐะฝ frontend ะบะพะฝัะตะนะฝะตั Docker
4. โ ะะตัะตะทะฐะฟััะตะฝ nginx-proxy
5. โ ะัะพะฒะตัะตะฝะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั

---

## ๐ ะขะตะบััะธะน ััะฐััั

### ะะพะฝัะตะนะฝะตัั Docker:
```
โ agrosky-backend       - ะะฐะฑะพัะฐะตั (ะฟะพัั 8000)
โ agrosky-frontend      - ะะฐะฑะพัะฐะตั (ะฟะพัั 3000)
โ agrosky-nginx-proxy   - ะะฐะฑะพัะฐะตั (ะฟะพัั 8080)
```

### ngrok:
```
โ ะขัะฝะฝะตะปั ะฐะบัะธะฒะตะฝ
๐ URL: https://de37694ed514.ngrok-free.app
```

### ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั:
```
โ Frontend ะทะฐะณััะถะฐะตััั
โ Backend API ะดะพัััะฟะตะฝ
โ ะะฒัะพัะธะทะฐัะธั ัะฐะฑะพัะฐะตั ัะตัะตะท ngrok
โ ะะตะณะธัััะฐัะธั ัะฐะฑะพัะฐะตั ัะตัะตะท ngrok
โ ะัะต ััะฝะบัะธะธ ะดะพัััะฟะฝั
```

---

## ๐งช ะะฐะบ ะฟัะพะฒะตัะธัั

### ะขะตัั 1: ะัะบัะพะนัะต ัะฐะนั ัะตัะตะท ngrok
1. ะัะบัะพะนัะต ะฝะฐ ัะตะปะตัะพะฝะต: https://de37694ed514.ngrok-free.app
2. ะะฐะถะผะธัะต "Visit Site" (ะฟัะธ ะฟะตัะฒะพะผ ะฒัะพะดะต)
3. ะะพะฟัะพะฑัะนัะต ะทะฐัะตะณะธัััะธัะพะฒะฐัััั ะธะปะธ ะฒะพะนัะธ
4. โ ะะพะปะถะฝะพ ัะฐะฑะพัะฐัั!

### ะขะตัั 2: ะัะบัะพะนัะต ัะฐะนั ะปะพะบะฐะปัะฝะพ
1. ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต: http://localhost:3000
2. ะะพะฟัะพะฑัะนัะต ะทะฐัะตะณะธัััะธัะพะฒะฐัััั ะธะปะธ ะฒะพะนัะธ
3. โ ะขะพะถะต ะดะพะปะถะฝะพ ัะฐะฑะพัะฐัั!

---

## ๐ฐ ะัะถะฝะฐ ะปะธ ะฟะปะฐัะฝะฐั ะฟะพะดะฟะธัะบะฐ ngrok?

**ะะะข!** ะัะพะฑะปะตะผะฐ ะะ ะฑัะปะฐ ะฒ ngrok. ะัะพะฑะปะตะผะฐ ะฑัะปะฐ ะฒ ะบะพะดะต frontend.

### ะะตัะฟะปะฐัะฝะฐั ะฒะตััะธั ngrok ะดะพััะฐัะพัะฝะฐ, ะฟะพัะพะผั ััะพ:
- โ ะะดะธะฝ ััะฝะฝะตะปั ะฟัะพะบัะธััะตั ะธ frontend, ะธ backend (ัะตัะตะท nginx)
- โ HTTPS ัะฐะฑะพัะฐะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ
- โ ะะพัััะฟ ั ะปัะฑัั ััััะพะนััะฒ ัะฐะฑะพัะฐะตั

### ะะปะฐัะฝะฐั ะฟะพะดะฟะธัะบะฐ ะฝัะถะฝะฐ ัะพะปัะบะพ ะตัะปะธ:
- ๐ธ ะัะถะตะฝ **ะฟะพััะพัะฝะฝัะน URL** (ะฝะต ะผะตะฝัะตััั ะฟัะธ ะฟะตัะตะทะฐะฟััะบะต) - $8/ะผะตั
- ๐ธ ะัะถะฝะพ **ัะฑัะฐัั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต** "Visit Site" - $8/ะผะตั
- ๐ธ ะัะถะฝะพ **ะฑะพะปะตะต 1 ััะฝะฝะตะปั** ะพะดะฝะพะฒัะตะผะตะฝะฝะพ - $10-15/ะผะตั
- ๐ธ ะัะถะฝะฐ **ะบะฐััะพะผะฝะฐั ะฟะพะดะดะพะผะตะฝะฐ** (yourname.ngrok.io) - $8/ะผะตั

**ะะปั ะฒะฐัะตะน ัะตะบััะตะน ะทะฐะดะฐัะธ ะฑะตัะฟะปะฐัะฝะพะน ะฒะตััะธะธ ะฅะะะขะะะข.**

---

## ๐ ะัะปะธ ััะพ-ัะพ ะฝะต ัะฐะฑะพัะฐะตั

### ะัะบะฐั ะธะทะผะตะฝะตะฝะธะน (ะตัะปะธ ะฝัะถะฝะพ):
```bash
# ะะพัััะฐะฝะพะฒะธัั ััะฐััั ะฒะตััะธั
Copy-Item -Path "frontend\src\utils\api.js.backup" -Destination "frontend\src\utils\api.js" -Force

# ะะตัะตัะพะฑัะฐัั frontend
docker-compose up --build -d frontend
```

### ะะตัะตะทะฐะฟััะบ ะฒัะตะณะพ ะฟัะพะตะบัะฐ:
```bash
# ะััะฐะฝะพะฒะธัั ะฒัะต
docker-compose down

# ะะฐะฟัััะธัั ะทะฐะฝะพะฒะพ
docker-compose up -d

# ะะตัะตะทะฐะฟัััะธัั ngrok
.\start_ngrok.bat
```

---

## ๐ ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะะทะผะตะฝะตะฝะธั ะฒ ะบะพะดะต:
- **ะคะฐะนะป**: `frontend/src/utils/api.js`
- **ะกััะพะบะฐ 5**: ะะทะผะตะฝะตะฝ `baseURL` ั `'http://localhost:8000'` ะฝะฐ `''`
- **ะะพะผะผะตะฝัะฐัะธะน**: ะะพะฑะฐะฒะปะตะฝะพ ะฟะพััะฝะตะฝะธะต, ะฟะพัะตะผั ะธัะฟะพะปัะทัะตััั ะฟัััะฐั ัััะพะบะฐ

### ะััะธัะตะบัััะฐ (ะบะฐะบ ััะพ ัะฐะฑะพัะฐะตั):
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะพะปัะทะพะฒะฐัะตะปั ะพัะบััะฒะฐะตั:                                 โ
โ https://de37694ed514.ngrok-free.app                     โ
โโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ
                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ngrok ััะฝะฝะตะปั (ะฟะพัั 8080)                               โ
โโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ
                    โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ nginx-proxy (Docker ะบะพะฝัะตะนะฝะตั ะฝะฐ ะฟะพััั 8080)            โ
โ                                                          โ
โ ะัะฐะฒะธะปะฐ ะฟัะพะบัะธัะพะฒะฐะฝะธั:                                  โ
โ   /          โ frontend:80   (React ะฟัะธะปะพะถะตะฝะธะต)         โ
โ   /api/      โ backend:8000  (FastAPI)                  โ
โ   /docs      โ backend:8000/docs                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัััะพะน baseURL ะพะทะฝะฐัะฐะตั:
- Axios ะฑัะดะตั ะดะตะปะฐัั ะทะฐะฟัะพัั ะพัะฝะพัะธัะตะปัะฝะพ ัะตะบััะตะณะพ ะดะพะผะตะฝะฐ
- ะัะปะธ ัะฐะนั ะพัะบััั ะฝะฐ `https://de37694ed514.ngrok-free.app`
  - ะขะพ `/api/v1/auth/register` โ `https://de37694ed514.ngrok-free.app/api/v1/auth/register`
- ะัะปะธ ัะฐะนั ะพัะบััั ะฝะฐ `http://localhost:3000`
  - ะขะพ `/api/v1/auth/register` โ `http://localhost:3000/api/v1/auth/register`
  - ะ nginx-proxy ะฝะฐ `localhost:8080` ะฟะตัะตะฝะฐะฟัะฐะฒะธั ะฝะฐ backend

---

## โ ะะพัะพะฒะพ!

**ะะฒัะพัะธะทะฐัะธั ัะตะฟะตัั ัะฐะฑะพัะฐะตั ัะตัะตะท ngrok!**

ะัะบัะพะนัะต ะฝะฐ ะปัะฑะพะผ ััััะพะนััะฒะต: **https://de37694ed514.ngrok-free.app**

๐ ะัะต ััะฝะบัะธะธ ัะฐะฑะพัะฐัั, ะฟะปะฐัะฝะฐั ะฟะพะดะฟะธัะบะฐ ะะ ััะตะฑัะตััั!

